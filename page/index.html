<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>OS</title>
  </head>
  <body style="padding: 80px;">
    <h2>ğŸ´ğŸ´ğŸƒ Laptop Status</h2>
    <div id="app">
      <transition-group name="fade">
        <p v-for="(value,key) in os" :key="key">
          <span
            style="
              display: inline-block;
              width: 80px;
              text-align: right;
              color: chocolate;
              margin-right: 20px;
            "
            >{{key}}</span
          ><span style="display: inline-block;">{{value}}</span>
        </p>
      </transition-group>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <script>
      var app = new Vue({
        el: '#app',
        data: {
          os: {
            date: '-',
            tmpdir: '-', //è¿”å›æ“ä½œç³»ç»Ÿçš„é»˜è®¤ä¸´æ—¶æ–‡ä»¶å¤¹ã€‚
            uptime: '-',
            endianness: '-', //è¿”å› CPU çš„å­—èŠ‚åºï¼Œå¯èƒ½çš„æ˜¯ "BE" æˆ– "LE"ã€‚
            hostname: '-', //è¿”å›æ“ä½œç³»ç»Ÿçš„ä¸»æœºåã€‚
            type: '-', //è¿”å›æ“ä½œç³»ç»Ÿå
            platform: '-', //è¿”å›æ“ä½œç³»ç»Ÿå
            arch: '-', //è¿”å›æ“ä½œç³»ç»Ÿ CPU æ¶æ„ï¼Œå¯èƒ½çš„å€¼æœ‰ "x64"ã€"arm" å’Œ "ia32"ã€‚
            release: '-', //è¿”å›æ“ä½œç³»ç»Ÿçš„å‘è¡Œç‰ˆæœ¬ã€‚
            loadavg: '-', //è¿”å›ä¸€ä¸ªåŒ…å« 1ã€5ã€15 åˆ†é’Ÿå¹³å‡è´Ÿè½½çš„æ•°ç»„ã€‚
            totalmem: '-', //è¿”å›ç³»ç»Ÿå†…å­˜æ€»é‡ï¼Œå•ä½ä¸ºå­—èŠ‚
            freemem: '-', //è¿”å›æ“ä½œç³»ç»Ÿç©ºé—²å†…å­˜é‡ï¼Œå•ä½æ˜¯å­—èŠ‚ã€‚
          },
        },
      })
      let ws = new WebSocket('ws://localhost:8001')
      ws.onopen = function (evt) {
        console.log('Open')
        ws.send('get os data.')
      }
      ws.onmessage = function (evt) {
        // console.log('Received Message: ' + evt.data)
        app.os = JSON.parse(evt.data)
      }

      ws.onclose = function (evt) {
        console.log('Connection closed.')
      }
    </script>
  </body>
</html>
